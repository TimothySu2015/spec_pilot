# 測試策略
- **測試哲學：** Test-after 為主，對 Flow Orchestrator / Validation 採 TDD；Coverage ≥ 80%，關鍵模組 ≥ 85%。
- **Test Pyramid：** 單元 60% / 整合 30% / 端對端 10%。
- **單元測試：** Vitest，`__tests__` 或 `tests/unit`，mock 外部 I/O，遵守 AAA 模式。
- **整合測試：** `tests/integration`，使用 nock/msw 建 mock server，透過 execa 驗證 CLI/MCP。
- **端到端測試：** 使用本地測試環境執行典型流程，無需複雜容器化設定。
- **測試資料管理：** `packages/testing/fixtures` 儲存樣本，提供 factory 函式；使用暫時資料夾並於測試後清理。
- **持續測試：** 本地執行 `pnpm lint`, `pnpm test`, `pnpm test:integration`，確保代碼品質；CI/CD 整合留待後續版本。
