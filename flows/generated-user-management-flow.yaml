name: 自動產生的測試套件
description: 包含 8 個端點的測試案例
version: 1.0.0
baseUrl: http://localhost:3000
steps:
  - name: 健康檢查 - 成功案例
    request:
      method: GET
      path: /api/health
    expect:
      statusCode: 200
  - name: 使用者登入 - 成功案例
    request:
      method: POST
      path: /auth/login
      body:
        username: Paolo_Waters
        password: J5Ag6wwHEfMuSLd
    expect:
      statusCode: 201
  - name: 使用者登入 - 缺少 username
    request:
      method: POST
      path: /auth/login
      body:
        password: textilis denego ullam
    expect:
      statusCode: 400
  - name: 使用者登入 - 缺少 password
    request:
      method: POST
      path: /auth/login
      body:
        username: commemoro
    expect:
      statusCode: 400
  - name: 使用者登入 - 無效 username 格式
    request:
      method: POST
      path: /auth/login
      body:
        username: ""
        password: dolorem
    expect:
      statusCode: 400
  - name: 使用者登入 - 無效 password 格式
    request:
      method: POST
      path: /auth/login
      body:
        username: suadeo cohors
        password: ""
    expect:
      statusCode: 400
  - name: 取得使用者列表 - 成功案例
    request:
      method: GET
      path: /api/users
    expect:
      statusCode: 200
  - name: 取得使用者列表 - 無認證
    request:
      method: GET
      path: /api/users
    expect:
      statusCode: 401
  - name: 建立新使用者 - 成功案例
    request:
      method: POST
      path: /api/users
      body:
        name: Spencer Paucek
        email: Tillman31@gmail.com
        role: user
        status: active
    expect:
      statusCode: 201
  - name: 建立新使用者 - 缺少 name
    request:
      method: POST
      path: /api/users
      body:
        email: Heber_Thiel52@gmail.com
        role: user
        status: active
    expect:
      statusCode: 400
  - name: 建立新使用者 - 缺少 email
    request:
      method: POST
      path: /api/users
      body:
        name: via
        role: user
        status: active
    expect:
      statusCode: 400
  - name: 建立新使用者 - 無效 name 格式
    request:
      method: POST
      path: /api/users
      body:
        name: ""
        email: Tracy.Watsica@yahoo.com
        role: user
        status: active
    expect:
      statusCode: 400
  - name: 建立新使用者 - 無效 email 格式
    request:
      method: POST
      path: /api/users
      body:
        name: vir cogito
        email: invalid-email
        role: user
        status: active
    expect:
      statusCode: 400
  - name: 建立新使用者 - 無效 role 格式
    request:
      method: POST
      path: /api/users
      body:
        name: atrocitas
        email: Judson97@yahoo.com
        role: 123
        status: active
    expect:
      statusCode: 400
  - name: 建立新使用者 - 無效 status 格式
    request:
      method: POST
      path: /api/users
      body:
        name: caelestis cursim
        email: Jarret.Thiel65@hotmail.com
        role: user
        status: 123
    expect:
      statusCode: 400
  - name: 建立新使用者 - 無認證
    request:
      method: POST
      path: /api/users
    expect:
      statusCode: 401
  - name: 取得使用者詳情 - 成功案例
    request:
      method: GET
      path: /api/users/{id}
    expect:
      statusCode: 200
  - name: 取得使用者詳情 - 無認證
    request:
      method: GET
      path: /api/users/{id}
    expect:
      statusCode: 401
  - name: 完整更新使用者 - 成功案例
    request:
      method: PUT
      path: /api/users/{id}
      body:
        name: Samuel Ankunding III
        email: Mertie.Bernhard45@gmail.com
        role: admin
        status: active
    expect:
      statusCode: 200
  - name: 完整更新使用者 - 缺少 name
    request:
      method: PUT
      path: /api/users/{id}
      body:
        email: Ayden_Hilll72@yahoo.com
        role: admin
        status: active
    expect:
      statusCode: 400
  - name: 完整更新使用者 - 缺少 email
    request:
      method: PUT
      path: /api/users/{id}
      body:
        name: strenuus candidus
        role: admin
        status: active
    expect:
      statusCode: 400
  - name: 完整更新使用者 - 缺少 role
    request:
      method: PUT
      path: /api/users/{id}
      body:
        name: audacia tergeo conventus
        email: Josue.Quitzon@gmail.com
        status: active
    expect:
      statusCode: 400
  - name: 完整更新使用者 - 缺少 status
    request:
      method: PUT
      path: /api/users/{id}
      body:
        name: texo sono debilito
        email: Warren_Huels@hotmail.com
        role: admin
    expect:
      statusCode: 400
  - name: 完整更新使用者 - 無效 name 格式
    request:
      method: PUT
      path: /api/users/{id}
      body:
        name: ""
        email: Wilhelm.Wilkinson@gmail.com
        role: admin
        status: active
    expect:
      statusCode: 400
  - name: 完整更新使用者 - 無效 email 格式
    request:
      method: PUT
      path: /api/users/{id}
      body:
        name: depono perspiciatis
        email: invalid-email
        role: admin
        status: active
    expect:
      statusCode: 400
  - name: 完整更新使用者 - 無效 role 格式
    request:
      method: PUT
      path: /api/users/{id}
      body:
        name: addo ipsam
        email: Novella.Lang9@yahoo.com
        role: 123
        status: active
    expect:
      statusCode: 400
  - name: 完整更新使用者 - 無效 status 格式
    request:
      method: PUT
      path: /api/users/{id}
      body:
        name: decet
        email: Tavares.Koelpin13@gmail.com
        role: admin
        status: 123
    expect:
      statusCode: 400
  - name: 完整更新使用者 - 無認證
    request:
      method: PUT
      path: /api/users/{id}
    expect:
      statusCode: 401
  - name: 部分更新使用者 - 成功案例
    request:
      method: PATCH
      path: /api/users/{id}
      body: {}
    expect:
      statusCode: 200
  - name: 部分更新使用者 - 無效 name 格式
    request:
      method: PATCH
      path: /api/users/{id}
      body:
        name: ""
        email: Clyde_Batz@gmail.com
        role: admin
        status: active
    expect:
      statusCode: 400
  - name: 部分更新使用者 - 無效 email 格式
    request:
      method: PATCH
      path: /api/users/{id}
      body:
        name: quibusdam
        email: invalid-email
        role: admin
        status: active
    expect:
      statusCode: 400
  - name: 部分更新使用者 - 無效 role 格式
    request:
      method: PATCH
      path: /api/users/{id}
      body:
        name: creator claudeo eligendi
        email: Laverna.Schiller@yahoo.com
        role: 123
        status: active
    expect:
      statusCode: 400
  - name: 部分更新使用者 - 無效 status 格式
    request:
      method: PATCH
      path: /api/users/{id}
      body:
        name: absum iste nostrum
        email: Jerrell98@yahoo.com
        role: admin
        status: 123
    expect:
      statusCode: 400
  - name: 部分更新使用者 - 無認證
    request:
      method: PATCH
      path: /api/users/{id}
    expect:
      statusCode: 401
  - name: 刪除使用者 - 成功案例
    request:
      method: DELETE
      path: /api/users/{id}
    expect:
      statusCode: 204
  - name: 刪除使用者 - 無認證
    request:
      method: DELETE
      path: /api/users/{id}
    expect:
      statusCode: 401
  - name: 建立新使用者
    request:
      method: POST
      path: /api/users
      body:
        name: Jared Hagenes
        email: Tito_Hackett@yahoo.com
        role: user
        status: active
    capture:
      - variableName: resourceId
        path: id
    expect:
      statusCode: 201
  - name: 取得使用者詳情
    request:
      method: GET
      path: /api/users/{{resourceId}}
    expect:
      statusCode: 200
  - name: 更新完整更新使用者
    request:
      method: PUT
      path: /api/users/{{resourceId}}
      body:
        name: Geneva Herman Jr.
        email: Kristoffer54@yahoo.com
        role: admin
        status: active
    expect:
      statusCode: 200
  - name: 刪除使用者
    request:
      method: DELETE
      path: /api/users/{{resourceId}}
    expect:
      statusCode: 204
  - name: 建立使用者登入
    request:
      method: POST
      path: /auth/login
      body:
        username: Lourdes.Koch
        password: 7XIimgVAe04yDmp
    capture:
      - variableName: authToken
        path: token
    expect:
      statusCode: 201
metadata:
  summary:
    totalTests: 41
    successTests: 8
    errorTests: 28
    edgeTests: 0
    endpoints:
      - getapiHealth
      - createauthLogin
      - getapiUsers
      - createapiUsers
      - getapiUsers
      - updateapiUsers
      - patchapiUsers
      - deleteapiUsers
